<view class="container">
  <view class="page-body">
    <form bindsubmit="formSubmit" bindreset="formReset">
      <view class="page-section">
        <view class="weui-cells weui-cells_after-title">
          <view class="weui-cell weui-cell_input">
            <view class="weui-label">费用(元)</view>
            <input name="cost" class="weui-input" type="digit" placeholder="0" value='{{cost}}' />
          </view>
        </view>
        <view class="weui-cells weui-cells_after-title type">
          <view class="weui-cell weui-cell_input">
            <view class="weui-label">类别</view>
            <view class="weui-cell__bd">
              <picker name="typeindex" value="{{typeIndex}}" range="{{typeList}}" bindchange="typeChange">
                <view class="weui-input" name="member">{{typeList[typeIndex]}}</view>
              </picker>
            </view>
          </view>
        </view>
        <view class="weui-cells weui-cells_after-title time-area">
          <view class="weui-cell weui-cell_input">
            <view class="weui-label">时间</view>
            <view class="weui-cell__bd time-container">
              <picker name="date" mode="date" value="{{date}}" bindchange="dateChange">
                <view class="weui-input">{{date}}</view>
              </picker>
              <picker name="time" class="time" mode="time" value="{{time}}" start="00:01" end="23:59" bindchange="timeChange">
                <view class="weui-input">{{time}}</view>
              </picker>
            </view>
          </view>
        </view>
        <view class="weui-cells weui-cells_after-title comment">
          <view class="weui-cell weui-cell_input">
            <view class="weui-label">备注</view>
            <input name="comment" class="weui-input" type="text" value='{{comment}}' />
          </view>
        </view>
        <view class="weui-cells weui-cells_after-title location">
          <view class="weui-cell weui-cell_input">
            <view class="weui-label">位置</view>
            <view class="weui-input" bindtap="selectLocation" wx:if="{{hasLocation === false}}">
            点击获取当前位置
            </view>
            <view class="weui-input loc-name" name="locationadd" bindtap="selectLocation" wx:if="{{hasLocation === true}}">
            {{locName ? locName : longitude+','+latitude}}
            </view>
          </view>
          
        </view>
        <view class="map-container" hover-class="none" hover-stop-propagation="false" style="width: 100%; height:300px;">
            <map id="map" subkey="{{mapkey}}" longitude="{{longitude}}" latitude=" {{latitude}}" markers="{{markers}}" scale="{{scale}}" show-location style="width: 100%; height: 100%;" data-markers="{{markers}}">
            </map>
          </view>
        <view class="btn-area">
          <view class="left">
            <button class="save" formType="submit">保存</button>
          </view>
          <view class="right">
            <button class="reset" formType="reset" style="margin-left:20px;">重置</button>
          </view>
        </view>
      </view>
    </form>
  </view>
</view>